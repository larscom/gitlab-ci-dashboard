<ng-container *ngIf="loading$ | async; else loaded">
  <div class="spinner">
    <nz-spin></nz-spin>
  </div>
</ng-container>
<ng-template #loaded>
  <nz-tabset nzType="card" [nzSelectedIndex]="selectedIndex$ | async" (nzSelectChange)="onChange($event)">
    <ng-container *ngFor="let group of groups$ | async; trackBy: trackById">
      <nz-tab [nzTitle]="title">
        <ng-template #title>
          <span class="uppercase" [attr.data-group-id]="group.id">{{ group.name }}</span>
        </ng-template>
        <ng-template nz-tab>
          <gcd-feature-tabs></gcd-feature-tabs>
        </ng-template>
      </nz-tab>
    </ng-container>
  </nz-tabset>
</ng-template>
