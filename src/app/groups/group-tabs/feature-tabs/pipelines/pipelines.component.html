<div class="flex flex-col gap-1">
  <div class="flex justify-between">
    <gcd-project-filter
      [loading]="(loading$ | async)!"
      [projects]="(projects$ | async)!"
      [currentFilterText]="(currentFilterText$ | async)!"
      [currentFilterTopics]="(currentFilterTopics$ | async)!"
      (filterTextChanged)="onFilterTextChanged($event)"
      (filterTopicsChanged)="onFilterTopicsChanged($event)"
    >
    </gcd-project-filter>
    <gcd-auto-refresh
      [id]="selectedGroupId"
      [loading]="(autoRefreshLoading$ | async)!"
      (refresh)="fetch()"
    ></gcd-auto-refresh>
  </div>
  <ng-container *ngIf="loading$ | async; else loaded">
    <nz-spin></nz-spin>
  </ng-container>
  <ng-template #loaded>
    <ng-container *ngIf="projectsWithPipeline$ | async as projects">
      <gcd-pipeline-table [projects]="projects"></gcd-pipeline-table>
    </ng-container>
  </ng-template>
</div>
